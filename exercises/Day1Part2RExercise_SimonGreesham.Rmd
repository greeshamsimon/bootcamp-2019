---
title: "Exercises Day 1 Part 2- Greesham Simon"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## ## Load the data

Load the `gapminder` dataset.


```{r LoadData}
gapminder <- read.csv(here("data/gapminder5.csv"), 
                      stringsAsFactors=FALSE)
```

## ## If Statement

Use an if() statement to print a suitable message reporting whether there are any records from 2002 in the gapminder dataset. Now do the same for 2012.

Hint: use the any function.


```{r IfStatement}
test_year<- 2002
if(any(gapminder$year == test_year)){
    cat("There are records from",test_year,"in the gapminder dataset.")
} else{
    cat("There aren't any records from",test_year,"in the gapminder dataset.")
}

test_year<- 2012
if(any(gapminder$year == test_year)){
    cat("There are records from",test_year,"in the gapminder dataset.")
} else{
    cat("There aren't any records from",test_year,"in the gapminder dataset.")
}
```
## ## Loop and If Statement

Write a script that finds the mean life expectancy by country for countries whose population is below the mean for the dataset

Write a script that loops through the gapminder data by continent and prints out whether the mean life expectancy is smaller than 50, between 50 and 70, or greater than 70.


```{r LoopAndIfStatement}
mean_pop<- mean(gapminder$pop)

for(i in unique(gapminder$country)) {
    country_mean <- mean(gapminder$pop[gapminder$country==i])
    
    if (country_mean < mean_pop) {
        cat("\nMean life expectancy for ",i," is ",mean(gapminder$lifeExp[gapminder$country==i]),".",)
    }
}

lowLim <- 50
highLim <-70

continents <- unique(gapminder$continent)

for(i in continents){
    tmp <- mean(gapminder$lifeExp[gapminder$continent==i])
    if (tmp< lowLim) {
        cat(sep="","Continent ", i," has a mean life expectancy below ", lowLim, )
    }
}

```



## Including Plots

You can also embed plots, for example:

```{r another chunk name}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
